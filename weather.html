<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Agriculture Portal</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f4fff4;
  transition:0.4s;
}

nav{
  background:darkgreen;
  padding:15px;
  text-align:center;
}

nav a{
  color:white;
  margin:0 15px;
  text-decoration:none;
  font-weight:bold;
}

nav a:hover{
  text-decoration:underline;
}

h1{
  text-align:center;
  color:darkgreen;
  margin:25px;
}

.card{
  background:white;
  width:85%;
  max-width:1000px;
  margin:25px auto;
  padding:25px;
  border-radius:15px;
  box-shadow:0 5px 12px rgba(0,0,0,0.2);
}

button{
  padding:10px 20px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  background:green;
  color:white;
  margin:5px 0;
}

button:hover{
  background:darkgreen;
}

input, select{
  padding:8px;
  border-radius:6px;
  margin:5px 0;
  width:200px;
}

.night{
  background:#0f172a;
  color:white;
}

.night .card{
  background:#1e293b;
  color:white;
}

footer{
  background:darkgreen;
  color:white;
  text-align:center;
  padding:15px;
  margin-top:30px;
}
</style>
</head>

<body id="page">

<nav>
<a href="#">Home</a>
<a href="#">Gallery</a>
<a href="#">Portal</a>
<a href="#">Contact</a>
</nav>

<h1>ğŸŒ¾ Smart Agriculture Portal</h1>

<div style="text-align:center;">
<button onclick="toggleMode()">ğŸŒ / ğŸŒ™ Toggle Mode</button>
</div>

<!-- Weather Section -->
<div class="card">
<h2>ğŸ“ Auto-Detect Location Weather</h2>
<button onclick="detectWeather()">Detect My Weather</button>
<p id="weatherResult"></p>
</div>

<!-- Crop Recommendation Section -->
<div class="card">
<h2>ğŸŒ± Crop Recommendation AI</h2>

<label>Temperature (Â°C)</label><br>
<input type="number" id="temp"><br>

<label>Humidity (%)</label><br>
<input type="number" id="humidity"><br>

<label>Soil Type</label><br>
<select id="soil">
<option value="clay">Clay</option>
<option value="loamy">Loamy</option>
<option value="sandy">Sandy</option>
<option value="black">Black</option>
</select><br>

<label>Rainfall (mm)</label><br>
<input type="number" id="rainfall"><br>

<button onclick="recommendCrop()">Recommend Crop</button>

<p id="cropResult" style="font-weight:bold; color:green;"></p>
</div>

<footer>
Â© 2026 Smart Agriculture Portal | Built by Venu
</footer>

<script>

const weatherApiKey = "YOUR_OPENWEATHER_API_KEY";

/* Toggle Night Mode */
function toggleMode(){
  document.getElementById("page").classList.toggle("night");
}

/* Auto Detect Weather */
function detectWeather(){
  if(navigator.geolocation){
    navigator.geolocation.getCurrentPosition(position=>{
      const lat = position.coords.latitude;
      const lon = position.coords.longitude;

      fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${weatherApiKey}&units=metric`)
      .then(res=>res.json())
      .then(data=>{
        document.getElementById("weatherResult").innerHTML =
        "ğŸ“ Location: " + data.name +
        "<br>ğŸŒ¡ Temperature: " + data.main.temp + "Â°C" +
        "<br>â˜ Condition: " + data.weather[0].description;
      })
      .catch(()=>{
        document.getElementById("weatherResult").innerText = "Weather fetch failed.";
      });

    });
  } else {
    alert("Geolocation not supported.");
  }
}

/* Crop Recommendation Logic */
function recommendCrop(){

  const temp = parseFloat(document.getElementById("temp").value);
  const humidity = parseFloat(document.getElementById("humidity").value);
  const soil = document.getElementById("soil").value;
  const rainfall = parseFloat(document.getElementById("rainfall").value);

  let crop = "";

  if(temp >= 20 && temp <= 35 && rainfall > 100 && soil === "loamy"){
    crop = "ğŸŒ¾ Recommended Crop: Rice";
  }
  else if(temp >= 15 && temp <= 25 && soil === "clay"){
    crop = "ğŸŒ¾ Recommended Crop: Wheat";
  }
  else if(temp >= 25 && temp <= 40 && soil === "black"){
    crop = "ğŸŒ¿ Recommended Crop: Cotton";
  }
  else if(rainfall > 150 && humidity > 60){
    crop = "ğŸŒ± Recommended Crop: Sugarcane";
  }
  else if(soil === "sandy"){
    crop = "ğŸŒ½ Recommended Crop: Millets / Groundnut";
  }
  else{
    crop = "âš  Conditions unclear. Try adjusting inputs.";
  }

  document.getElementById("cropResult").innerText = crop;
}

</script>

</body>
</html>